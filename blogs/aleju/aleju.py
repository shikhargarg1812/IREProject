import urllib
from urllib.request import Request, urlopen
import urllib
from bs4 import BeautifulSoup
import sys
import re
import json

urls=['https://github.com//aleju/papers/blob/master/neural-nets/Deep_Clustering_for_Unsupervised_Learning_of_Visual_Features.md', 'https://github.com//aleju/papers/blob/master/neural-nets/Deep_Continuous_Fusion_for_Multi-Sensor_3D_Object_Detection.md', 'https://github.com//aleju/papers/blob/master/neural-nets/Audio-Visual_Scene_Analysis_with_Self-Supervised_Multisensory_Features.md', 'https://github.com//aleju/papers/blob/master/neural-nets/Towards_Realistic_Predictors.md', 'https://github.com//aleju/papers/blob/master/neural-nets/Acquisition_of_Localization_Confidence_for_Accurate_OD.md', 'https://github.com//aleju/papers/blob/master/neural-nets/CornerNet.md', 'https://github.com//aleju/papers/blob/master/neural-nets/Group_Normalization.md', 'https://github.com//aleju/papers/blob/master/neural-nets/Convolutional_Networks_with_Adaptive_Inference_Graphs.md', 'https://github.com//aleju/papers/blob/master/neural-nets/STN.md', 'https://github.com//aleju/papers/blob/master/neural-nets/HardNet.md', 'https://github.com//aleju/papers/blob/master/neural-nets/NAN_for_Video_Face_Recognition.md', 'https://github.com//aleju/papers/blob/master/neural-nets/Critical_Learning_Periods_in_Deep_Neural_Networks.md', 'https://github.com//aleju/papers/blob/master/neural-nets/High_Resolution_Image_Synthesis_with_Conditional_GANs.md', 'https://github.com//aleju/papers/blob/master/mixed/Computer_Vision_for_Autonomous_Vehicles_Overview.md', 'https://github.com//aleju/papers/blob/master/neural-nets/Progressive_Growing_of_GANs.md', 'https://github.com//aleju/papers/blob/master/neural-nets/Systematic_Testing_of_CNNs_for_Autonomous_Driving.md', 'https://github.com//aleju/papers/blob/master/neural-nets/Fast_Scene_Understanding_for_Autonomous_Driving.md', 'https://github.com//aleju/papers/blob/master/neural-nets/Arguing_Machines.md', 'https://github.com//aleju/papers/blob/master/neural-nets/Virtual_to_Real_RL_for_AD.md', 'https://github.com//aleju/papers/blob/master/neural-nets/End_to_End_Learning_for_Self-Driving_Cars.md', 'https://github.com//aleju/papers/blob/master/neural-nets/Snapshot_Ensembles.md', 'https://github.com//aleju/papers/blob/master/neural-nets/Image_Crowd_Counting_using_CNN_and_MRF.md', 'https://github.com//aleju/papers/blob/master/neural-nets/Rainbow.md', 'https://github.com//aleju/papers/blob/master/neural-nets/Learning_to_Navigate_in_Complex_Environments.md', 'https://github.com//aleju/papers/blob/master/neural-nets/Unsupervised_Image-to-Image_Translation_Networks.md', 'https://github.com//aleju/papers/blob/master/neural-nets/Dilated_Recurrent_Neural_Networks.md', 'https://github.com//aleju/papers/blob/master/neural-nets/Detect_to_Track_and_Track_to_Detect.md', 'https://github.com//aleju/papers/blob/master/neural-nets/Dilated_Residual_Networks.md', 'https://github.com//aleju/papers/blob/master/neural-nets/Feature_Pyramid_Networks_for_Object_Detection.md', 'https://github.com//aleju/papers/blob/master/neural-nets/SSD.md', 'https://github.com//aleju/papers/blob/master/neural-nets/MobileNets.md', 'https://github.com//aleju/papers/blob/master/neural-nets/Mask_R-CNN.md', 'https://github.com//aleju/papers/blob/master/neural-nets/Multi-view_Face_Detection_Using_Deep_Convolutional_Neural_Networks.md', 'https://github.com//aleju/papers/blob/master/neural-nets/On_The_Effects_of_BN_and_WN_in_GANs.md', 'https://github.com//aleju/papers/blob/master/neural-nets/BEGAN.md', 'https://github.com//aleju/papers/blob/master/neural-nets/StackGAN.md', 'https://github.com//aleju/papers/blob/master/neural-nets/Self-Normalizing_Neural_Networks.md', 'https://github.com//aleju/papers/blob/master/neural-nets/WGAN.md', 'https://github.com//aleju/papers/blob/master/neural-nets/YOLO9000.md', 'https://github.com//aleju/papers/blob/master/neural-nets/YOLO.md', 'https://github.com//aleju/papers/blob/master/neural-nets/PVANET.md', 'https://github.com//aleju/papers/blob/master/neural-nets/R-FCN.md', 'https://github.com//aleju/papers/blob/master/neural-nets/Faster_R-CNN.md', 'https://github.com//aleju/papers/blob/master/neural-nets/Fast_R-CNN.md', 'https://github.com//aleju/papers/blob/master/neural-nets/Rich_feature_hierarchies_for_accurate_object_detection_and_semantic_segmentation.md', 'https://github.com//aleju/papers/blob/master/mixed/Ten_Years_of_Pedestrian_Detection_What_Have_We_Learned.md', 'https://github.com//aleju/papers/blob/master/neural-nets/Instance_Normalization_The_Missing_Ingredient_for_Fast_Stylization.md', 'https://github.com//aleju/papers/blob/master/neural-nets/Stacked_Hourglass_Networks_for_Human_Pose_Estimation.md', 'https://github.com//aleju/papers/blob/master/neural-nets/DeepFace.md', 'https://github.com//aleju/papers/blob/master/neural-nets/Character-based_Neural_Machine_Translation.md', 'https://github.com//aleju/papers/blob/master/neural-nets/Convolutional_Pose_Machines.md', 'https://github.com//aleju/papers/blob/master/neural-nets/HyperFace.md', 'https://github.com//aleju/papers/blob/master/neural-nets/Face_Attribute_Prediction_Using_Off-the-Shelf_CNN_Features.md', 'https://github.com//aleju/papers/blob/master/neural-nets/CMS-RCNN.md', 'https://github.com//aleju/papers/blob/master/neural-nets/Conditional_Image_Generation_with_PixelCNN_Decoders.md', 'https://github.com//aleju/papers/blob/master/neural-nets/InfoGAN.md', 'https://github.com//aleju/papers/blob/master/neural-nets/Improved_Techniques_for_Training_GANs.md', 'https://github.com//aleju/papers/blob/master/neural-nets/Synthesizing_the_preferred_inputs_for_neurons_in_neural_networks_via_deep_generator_networks.md', 'https://github.com//aleju/papers/blob/master/neural-nets/FractalNet_Ultra-Deep_Networks_without_Residuals.md', 'https://github.com//aleju/papers/blob/master/neural-nets/PlaNet.md', 'https://github.com//aleju/papers/blob/master/neural-nets/Adam.md', 'https://github.com//aleju/papers/blob/master/neural-nets/Generating_Images_with_Recurrent_Adversarial_Networks.md', 'https://github.com//aleju/papers/blob/master/neural-nets/Adversarially_Learned_Inference.md', 'https://github.com//aleju/papers/blob/master/neural-nets/Resnet_in_Resnet.md', 'https://github.com//aleju/papers/blob/master/neural-nets/Rank_Ordered_Autoencoders.md', 'https://github.com//aleju/papers/blob/master/neural-nets/Wide_Residual_Networks.md', 'https://github.com//aleju/papers/blob/master/neural-nets/Identity_Mappings_in_Deep_Residual_Networks.md', 'https://github.com//aleju/papers/blob/master/neural-nets/Swapout.md', 'https://github.com//aleju/papers/blob/master/neural-nets/Multi-Scale_Context_Aggregation_by_Dilated_Convolutions.md', 'https://github.com//aleju/papers/blob/master/neural-nets/Texture_Synthesis_Through_CNNs_and_Spectrum_Constraints.md', 'https://github.com//aleju/papers/blob/master/neural-nets/Markovian_GANs.md', 'https://github.com//aleju/papers/blob/master/neural-nets/Neural_Doodle.md', 'https://github.com//aleju/papers/blob/master/neural-nets/Combining_MRFs_and_CNNs_for_Image_Synthesis.md', 'https://github.com//aleju/papers/blob/master/neural-nets/Accurate_Image_Super-Resolution.md', 'https://github.com//aleju/papers/blob/master/neural-nets/Joint_Training_of_a_ConvNet_and_a_PGM_for_HPE.md', 'https://github.com//aleju/papers/blob/master/neural-nets/Hierarchical_Deep_Reinforcement_Learning.md', 'https://github.com//aleju/papers/blob/master/neural-nets/Let_there_be_Color.md', 'https://github.com//aleju/papers/blob/master/neural-nets/Artistic_Style_Transfer_for_Videos.md', 'https://github.com//aleju/papers/blob/master/neural-nets/Playing_Atari_with_Deep_Reinforcement_Learning.md', 'https://github.com//aleju/papers/blob/master/neural-nets/Attend_Infer_Repeat.md', 'https://github.com//aleju/papers/blob/master/neural-nets/SqueezeNet.md', 'https://github.com//aleju/papers/blob/master/neural-nets/Noisy_Activation_Functions.md', 'https://github.com//aleju/papers/blob/master/neural-nets/DenseCap.md', 'https://github.com//aleju/papers/blob/master/neural-nets/Deep_Networks_with_Stochastic_Depth.md', 'https://github.com//aleju/papers/blob/master/neural-nets/Deep_Generative_Image_Models_using_a_Laplacian_Pyramid_of_Adversarial_Networks.md', 'https://github.com//aleju/papers/blob/master/neural-nets/DRAW_A_Recurrent_Neural_Network_for_Image_Generation.md', 'https://github.com//aleju/papers/blob/master/neural-nets/Generating_Images_with_Perceptual_Similarity_Metrics_based_on_Deep_Networks.md', 'https://github.com//aleju/papers/blob/master/neural-nets/Generative_Moment_Matching_Networks.md', 'https://github.com//aleju/papers/blob/master/neural-nets/Pixel_Recurrent_Neural_Networks.md', 'https://github.com//aleju/papers/blob/master/neural-nets/Unsupervised_Representation_Learning_with_Deep_Convolutional_Generative_Adversarial_Networks.md', 'https://github.com//aleju/papers/blob/master/neural-nets/A_Neural_Algorithm_for_Artistic_Style.md', 'https://github.com//aleju/papers/blob/master/neural-nets/Batch_Normalization.md', 'https://github.com//aleju/papers/blob/master/neural-nets/Deep_Residual_Learning_for_Image_Recognition.md', 'https://github.com//aleju/papers/blob/master/neural-nets/ELUs.md', 'https://github.com//aleju/papers/blob/master/neural-nets/Fractional_Max_Pooling.md', 'https://github.com//aleju/papers/blob/master/neural-nets/Generative_Adversarial_Networks.md', 'https://github.com//aleju/papers/blob/master/neural-nets/Inception_v4.md', 'https://github.com//aleju/papers/blob/master/neural-nets/Weight_Normalization.md']
# urls=['https://github.com/aleju/papers/blob/master/neural-nets/FractalNet_Ultra-Deep_Networks_without_Residuals.md']
data={}
ind=0

for url in urls:
    if ind % 10 ==0:
        print(ind)
    req = Request(url, headers={'User-Agent': 'Mozilla/5.0'})
    html=urlopen(req).read()

    soup = BeautifulSoup(html)

    flag=0
    flag1=1
    tempData={}
    prevToPrev=""
    links=""
    linkToPaper=""
    prevLink=""
    prevTag=soup.findAll(True)[0]
    listArr=[]
    for tag in soup.findAll(True):
        if tag.text=="Summary" and tag.name=='h1':
            flag=1
        if '2021 GitHub, Inc.' == tag.text:
            flag1=0
        if prevTag.name=='strong' and prevTag.text=='Link':
            linkToPaper=tag.get('href')
        prevTag=tag
        if tag.name == 'li' and flag and flag1==1:
            listArr.append(tag.text)
    tempData['sourceUrl']=url
    tempData['transcript']=" ".join(listArr)
    tempData['sourceType']="blog"
    tempData['linkToPaper']=linkToPaper
    data[str(ind)]=tempData
    ind+=1
    

jsonObj=json.dumps(data,indent=4)
with open('aleju.json','w') as f:
    f.write(jsonObj)
