import urllib
from urllib.request import Request, urlopen
from bs4 import BeautifulSoup
import sys
import re
import json
# soup = BeautifulSoup(html)

links=['https://shagunsodhani.com/papers-I-read/', 'https://shagunsodhani.com/papers-I-read/Deep-Neural-Networks-for-YouTube-Recommendations', 'https://shagunsodhani.com/papers-I-read/The-Tail-at-Scale', 'https://shagunsodhani.com/papers-I-read/Practical-Lessons-from-Predicting-Clicks-on-Ads-at-Facebook', 'https://shagunsodhani.com/papers-I-read/Ad-Click-Prediction-a-View-from-the-Trenches', 'https://shagunsodhani.com/papers-I-read/Anatomy-of-Catastrophic-Forgetting-Hidden-Representations-and-Task-Semantics', 'https://shagunsodhani.com/papers-I-read/When-Do-Curricula-Work', 'https://shagunsodhani.com/papers-I-read/Continual-learning-with-hypernetworks', 'https://shagunsodhani.com/papers-I-read/Zero-shot-Learning-by-Generating-Task-specific-Adapters', 'https://shagunsodhani.com/papers-I-read/HyperNetworks', 'https://shagunsodhani.com/papers-I-read/Energy-based-Models-for-Continual-Learning', 'https://shagunsodhani.com/papers-I-read/GPipe-Easy-Scaling-with-Micro-Batch-Pipeline-Parallelism', 'https://shagunsodhani.com/papers-I-read/Compositional-Explanations-of-Neurons', 'https://shagunsodhani.com/papers-I-read/Design-patterns-for-container-based-distributed-systems', 'https://shagunsodhani.com/papers-I-read/Cassandra-a-decentralized-structured-storage-system', 'https://shagunsodhani.com/papers-I-read/CAP-twelve-years-later-How-the-rules-have-changed', 'https://shagunsodhani.com/papers-I-read/Consistency-Tradeoffs-in-Modern-Distributed-Database-System-Design', 'https://shagunsodhani.com/papers-I-read/Exploring-Simple-Siamese-Representation-Learning', 'https://shagunsodhani.com/papers-I-read/Data-Management-for-Internet-Scale-Single-Sign-On', 'https://shagunsodhani.com/papers-I-read/Searching-for-Build-Debt-Experiences-Managing-Technical-Debt-at-Google', 'https://shagunsodhani.com/papers-I-read/One-Solution-is-Not-All-You-Need-Few-Shot-Extrapolation-via-Structured-MaxEnt-RL', 'https://shagunsodhani.com/papers-I-read/Learning-Explanations-That-Are-Hard-To-Vary', 'https://shagunsodhani.com/papers-I-read/Remembering-for-the-Right-Reasons-Explanations-Reduce-Catastrophic-Forgetting', 'https://shagunsodhani.com/papers-I-read/A-Foliated-View-of-Transfer-Learning', 'https://shagunsodhani.com/papers-I-read/Harvest,-Yield,-and-Scalable-Tolerant-Systems', 'https://shagunsodhani.com/papers-I-read/MONet-Unsupervised-Scene-Decomposition-and-Representation', 'https://shagunsodhani.com/papers-I-read/Revisiting-Fundamentals-of-Experience-Replay', 'https://shagunsodhani.com/papers-I-read/Deep-Reinforcement-Learning-and-the-Deadly-Triad', 'https://shagunsodhani.com/papers-I-read/Alpha-Net-Adaptation-with-Composition-in-Classifier-Space', 'https://shagunsodhani.com/papers-I-read/Outrageously-Large-Neural-Networks-The-Sparsely-Gated-Mixture-of-Experts-Layer', 'https://shagunsodhani.com/papers-I-read/Gradient-Surgery-for-Multi-Task-Learning', 'https://shagunsodhani.com/papers-I-read/GradNorm-Gradient-Normalization-for-Adaptive-Loss-Balancing-in-Deep-Multitask-Networks', 'https://shagunsodhani.com/papers-I-read/TASKNORM-Rethinking-Batch-Normalization-for-Meta-Learning', 'https://shagunsodhani.com/papers-I-read/Averaging-Weights-leads-to-Wider-Optima-and-Better-Generalization', 'https://shagunsodhani.com/papers-I-read/Decentralized-Reinforcement-Learning-Global-Decision-Making-via-Local-Economic-Transactions', 'https://shagunsodhani.com/papers-I-read/When-to-use-parametric-models-in-reinforcement-learning', 'https://shagunsodhani.com/papers-I-read/Network-Randomization-A-Simple-Technique-for-Generalization-in-Deep-Reinforcement-Learning', 'https://shagunsodhani.com/papers-I-read/On-the-Difficulty-of-Warm-Starting-Neural-Network-Training', 'https://shagunsodhani.com/papers-I-read/Supervised-Contrastive-Learning', 'https://shagunsodhani.com/papers-I-read/CURL-Contrastive-Unsupervised-Representations-for-Reinforcement-Learning', 'https://shagunsodhani.com/papers-I-read/Competitive-Training-of-Mixtures-of-Independent-Deep-Generative-Models', 'https://shagunsodhani.com/papers-I-read/What-Does-Classifying-More-Than-10,000-Image-Categories-Tell-Us', 'https://shagunsodhani.com/papers-I-read/mixup-Beyond-Empirical-Risk-Minimization', 'https://shagunsodhani.com/papers-I-read/ELECTRA-Pre-training-Text-Encoders-as-Discriminators-Rather-Than-Generators', 'https://shagunsodhani.com/papers-I-read/Gradient-based-sample-selection-for-online-continual-learning', 'https://shagunsodhani.com/papers-I-read/Your-Classifier-is-Secretly-an-Energy-Based-Model,-and-You-Should-Treat-it-Like-One', 'https://shagunsodhani.com/papers-I-read/Massively-Multilingual-Neural-Machine-Translation-in-the-Wild-Findings-and-Challenges', 'https://shagunsodhani.com/papers-I-read/Observational-Overfitting-in-Reinforcement-Learning', 'https://shagunsodhani.com/papers-I-read/Rapid-Learning-or-Feature-Reuse-Towards-Understanding-the-Effectiveness-of-MAML', 'https://shagunsodhani.com/papers-I-read/Accurate-Large-Minibatch-SGD-Training-ImageNet-in-1-Hour', 'https://shagunsodhani.com/papers-I-read/Superposition-of-many-models-into-one', 'https://shagunsodhani.com/papers-I-read/Towards-a-Unified-Theory-of-State-Abstraction-for-MDPs', 'https://shagunsodhani.com/papers-I-read/ALBERT-A-Lite-BERT-for-Self-supervised-Learning-of-Language-Representations', 'https://shagunsodhani.com/papers-I-read/Mastering-Atari,-Go,-Chess-and-Shogi-by-Planning-with-a-Learned-Model', 'https://shagunsodhani.com/papers-I-read/Contrastive-Learning-of-Structured-World-Models', 'https://shagunsodhani.com/papers-I-read/Gossip-based-Actor-Learner-Architectures-for-Deep-RL', 'https://shagunsodhani.com/papers-I-read/How-to-train-your-MAML', 'https://shagunsodhani.com/papers-I-read/PHYRE-A-New-Benchmark-for-Physical-Reasoning', 'https://shagunsodhani.com/papers-I-read/Large-Memory-Layers-with-Product-Keys', 'https://shagunsodhani.com/papers-I-read/Abductive-Commonsense-Reasoning', 'https://shagunsodhani.com/papers-I-read/Deep-Reinforcement-Learning-in-a-Handful-of-Trials-using-Probabilistic-Dynamics-Models', 'https://shagunsodhani.com/papers-I-read/Assessing-Generalization-in-Deep-Reinforcement-Learning', 'https://shagunsodhani.com/papers-I-read/Quantifying-Generalization-in-Reinforcement-Learning', 'https://shagunsodhani.com/papers-I-read/Set-Transformer-A-Framework-for-Attention-based-Permutation-Invariant-Neural-Networks', 'https://shagunsodhani.com/papers-I-read/Measuring-Abstract-Reasoning-in-Neural-Networks', 'https://shagunsodhani.com/papers-I-read/Hamiltonian-Neural-Networks', 'https://shagunsodhani.com/papers-I-read/Extrapolating-Beyond-Suboptimal-Demonstrations-via-Inverse-Reinforcement-Learning-from-Observations', 'https://shagunsodhani.com/papers-I-read/Meta-Reinforcement-Learning-of-Structured-Exploration-Strategies', 'https://shagunsodhani.com/papers-I-read/Relational-Reinforcement-Learning', 'https://shagunsodhani.com/papers-I-read/Good-Enough-Compositional-Data-Augmentation', 'https://shagunsodhani.com/papers-I-read/Multiple-Model-Based-Reinforcement-Learning', 'https://shagunsodhani.com/papers-I-read/Towards-a-natural-benchmark-for-continual-learning', 'https://shagunsodhani.com/papers-I-read/Meta-Learning-Update-Rules-for-Unsupervised-Representation-Learning', 'https://shagunsodhani.com/papers-I-read/GNN-Explainer-A-Tool-for-Post-hoc-Explanation-of-Graph-Neural-Networks', 'https://shagunsodhani.com/papers-I-read/To-Tune-or-Not-to-Tune-Adapting-Pretrained-Representations-to-Diverse-Tasks', 'https://shagunsodhani.com/papers-I-read/Model-Primitive-Hierarchical-Lifelong-Reinforcement-Learning', 'https://shagunsodhani.com/papers-I-read/TuckER-Tensor-Factorization-for-Knowledge-Graph-Completion', 'https://shagunsodhani.com/papers-I-read/Linguistic-Knowledge-as-Memory-for-Recurrent-Neural-Networks', 'https://shagunsodhani.com/papers-I-read/Diversity-is-All-You-Need-Learning-Skills-without-a-Reward-Function', 'https://shagunsodhani.com/papers-I-read/Modular-meta-learning', 'https://shagunsodhani.com/papers-I-read/Hierarchical-RL-Using-an-Ensemble-of-Proprioceptive-Periodic-Policies', 'https://shagunsodhani.com/papers-I-read/Efficient-Lifelong-Learning-with-A-GEM', 'https://shagunsodhani.com/papers-I-read/Pre-training-Graph-Neural-Networks-with-Kernels', 'https://shagunsodhani.com/papers-I-read/Smooth-Loss-Functions-for-Deep-Top-k-Classification', 'https://shagunsodhani.com/papers-I-read/Hindsight-Experience-Replay', 'https://shagunsodhani.com/papers-I-read/Representation-Tradeoffs-for-Hyperbolic-Embeddings', 'https://shagunsodhani.com/papers-I-read/Learned-Optimizers-that-Scale-and-Generalize', 'https://shagunsodhani.com/papers-I-read/One-shot-Learning-with-Memory-Augmented-Neural-Networks', 'https://shagunsodhani.com/papers-I-read/BabyAI-First-Steps-Towards-Grounded-Language-Learning-With-a-Human-In-the-Loop', 'https://shagunsodhani.com/papers-I-read/Poincare-Embeddings-for-Learning-Hierarchical-Representations', 'https://shagunsodhani.com/papers-I-read/When-Recurrent-Models-Don-t-Need-To-Be-Recurrent', 'https://shagunsodhani.com/papers-I-read/HoME-a-Household-Multimodal-Environment', 'https://shagunsodhani.com/papers-I-read/Emergence-of-Grounded-Compositional-Language-in-Multi-Agent-Populations', 'https://shagunsodhani.com/papers-I-read/A-Semantic-Loss-Function-for-Deep-Learning-with-Symbolic-Knowledge', 'https://shagunsodhani.com/papers-I-read/Hierarchical-Graph-Representation-Learning-with-Differentiable-Pooling', 'https://shagunsodhani.com/papers-I-read/Imagination-Augmented-Agents-for-Deep-Reinforcement-Learning', 'https://shagunsodhani.com/papers-I-read/Kronecker-Recurrent-Units', 'https://shagunsodhani.com/papers-I-read/Learning-Independent-Causal-Mechanisms', 'https://shagunsodhani.com/papers-I-read/Memory-Based-Parameter-Adaption', 'https://shagunsodhani.com/papers-I-read/Born-Again-Neural-Networks', 'https://shagunsodhani.com/papers-I-read/Net2Net-Accelerating-Learning-via-Knowledge-Transfer', 'https://shagunsodhani.com/papers-I-read/Learning-to-Count-Objects-in-Natural-Images-for-Visual-Question-Answering', 'https://shagunsodhani.com/papers-I-read/Neural-Message-Passing-for-Quantum-Chemistry', 'https://shagunsodhani.com/papers-I-read/Unsupervised-Learning-By-Predicting-Noise', 'https://shagunsodhani.com/papers-I-read/The-Lottery-Ticket-Hypothesis-Training-Pruned-Neural-Networks', 'https://shagunsodhani.com/papers-I-read/Cyclical-Learning-Rates-for-Training-Neural-Networks', 'https://shagunsodhani.com/papers-I-read/Improving-Information-Extraction-by-Acquiring-External-Evidence-with-Reinforcement-Learning', 'https://shagunsodhani.com/papers-I-read/An-Empirical-Investigation-of-Catastrophic-Forgetting-in-Gradient-Based-Neural-Networks', 'https://shagunsodhani.com/papers-I-read/Learning-a-SAT-Solver-from-Single-Bit-Supervision', 'https://shagunsodhani.com/papers-I-read/Neural-Relational-Inference-for-Interacting-Systems', 'https://shagunsodhani.com/papers-I-read/Stylistic-Transfer-in-Natural-Language-Generation-Systems-Using-Recurrent-Neural-Networks', 'https://shagunsodhani.com/papers-I-read/Get-To-The-Point-Summarization-with-Pointer-Generator-Networks', 'https://shagunsodhani.com/papers-I-read/StarSpace-Embed-All-The-Things', 'https://shagunsodhani.com/papers-I-read/Emotional-Chatting-Machine-Emotional-Conversation-Generation-with-Internal-and-External-Memory', 'https://shagunsodhani.com/papers-I-read/Exploring-Models-and-Data-for-Image-Question-Answering', 'https://shagunsodhani.com/papers-I-read/How-transferable-are-features-in-deep-neural-networks', 'https://shagunsodhani.com/papers-I-read/Distilling-the-Knowledge-in-a-Neural-Network', 'https://shagunsodhani.com/papers-I-read/Revisiting-Semi-Supervised-Learning-with-Graph-Embeddings', 'https://shagunsodhani.com/papers-I-read/Two-Stage-Synthesis-Networks-for-Transfer-Learning-in-Machine-Comprehension', 'https://shagunsodhani.com/papers-I-read/Higher-order-organization-of-complex-networks', 'https://shagunsodhani.com/papers-I-read/Network-Motifs-Simple-Building-Blocks-of-Complex-Networks', 'https://shagunsodhani.com/papers-I-read/Word-Representations-via-Gaussian-Embedding', 'https://shagunsodhani.com/papers-I-read/HARP-Hierarchical-Representation-Learning-for-Networks', 'https://shagunsodhani.com/papers-I-read/Swish-A-self-gated-activation-function', 'https://shagunsodhani.com/papers-I-read/Reading-Wikipedia-to-Answer-Open-Domain-Questions', 'https://shagunsodhani.com/papers-I-read/Task-Oriented-Query-Reformulation-with-Reinforcement-Learning', 'https://shagunsodhani.com/papers-I-read/Refining-Source-Representations-with-Relation-Networks-for-Neural-Machine-Translation', 'https://shagunsodhani.com/papers-I-read/Pointer-Networks', 'https://shagunsodhani.com/papers-I-read/Learning-to-Compute-Word-Embeddings-On-the-Fly', 'https://shagunsodhani.com/papers-I-read/R-NET-Machine-Reading-Comprehension-with-Self-matching-Networks', 'https://shagunsodhani.com/papers-I-read/ReasoNet-Learning-to-Stop-Reading-in-Machine-Comprehension', 'https://shagunsodhani.com/papers-I-read/Principled-Detection-of-Out-of-Distribution-Examples-in-Neural-Networks', 'https://shagunsodhani.com/papers-I-read/Ask-Me-Anything-Dynamic-Memory-Networks-for-Natural-Language-Processing', 'https://shagunsodhani.com/papers-I-read/One-Model-To-Learn-Them-All', 'https://shagunsodhani.com/papers-I-read/Two-Too-Simple-Adaptations-of-Word2Vec-for-Syntax-Problems', 'https://shagunsodhani.com/papers-I-read/A-Decomposable-Attention-Model-for-Natural-Language-Inference', 'https://shagunsodhani.com/papers-I-read/A-Fast-and-Accurate-Dependency-Parser-using-Neural-Networks', 'https://shagunsodhani.com/papers-I-read/Neural-Module-Networks', 'https://shagunsodhani.com/papers-I-read/Making-the-V-in-VQA-Matter-Elevating-the-Role-of-Image-Understanding-in-Visual-Question-Answering', 'https://shagunsodhani.com/papers-I-read/Conditional-Similarity-Networks', 'https://shagunsodhani.com/papers-I-read/Simple-Baseline-for-Visual-Question-Answering', 'https://shagunsodhani.com/papers-I-read/VQA-Visual-Question-Answering', 'https://shagunsodhani.com/papers-I-read/']
data={}
i=0
for url in links:
    if i % 5 ==0:
        print(i)
    currBlog={}
    html = urllib.request.urlopen(url).read()
    soup = BeautifulSoup(html)
    for script in soup(["script", "style"]):
        script.decompose()
    strips = list(soup.stripped_strings)
    transcript="\n".join(strips)
    currBlog['sourceUrl']=url
    currBlog['trancript']=transcript
    currBlog['sourceType']='blog'
    linkToPaper=""
    for link in soup.findAll('a'):
        cont=link.contents[0]
        if 'Link' in cont and 'paper' in cont:
            linkToPaper=link.get('href')
    currBlog['linkToPaper']=linkToPaper
    if linkToPaper:
        data[str(i)]=currBlog
        i+=1

jsonObj=json.dumps(data,indent=4)
with open('shagunSoganiBlog.json','w') as f:
    f.write(jsonObj)